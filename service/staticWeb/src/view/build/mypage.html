<html lang='ja'>
  <head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no'>
    
    <title>mypage | sample.xlogin.jp</title> 
    
    <meta name='author' content='autoaim_jp'> 
    
    <meta name='description' content='mypage'> 
    <link href="https://fonts.googleapis.com/css?family=Material+Icons+Outlined" rel="stylesheet">

    <link rel='apple-touch-icon' sizes='180x180' href='/img/logo/apple-touch-icon.webp'>
    <link rel='icon' type='image/webp' sizes='32x32' href='/img/logo/favicon-32x32.webp'>
    <link rel='icon' type='image/webp' sizes='16x16' href='/img/logo/favicon-16x16.webp'>
    <link rel='mask-icon' href='/img/logo/safari-pinned-tab.svg' color='#5bbad5'>
    <link rel='shortcut icon' href='/img/logo/favicon.ico'>
    <meta name='msapplication-TileColor' content='#ffffff'>
    <meta name='theme-color' content='#ffffff'>



      
      
      <link href='/css/tailwind.css' rel='stylesheet' /> 
    
    



  <body class='flex flex-col' x-data>
    <div x-init="setupAlpine()"></div>
    <header class="bg-white">
  <div class="mx-auto max-w-screen-xl px-4 sm:px-6 lg:px-8">
    <div class="flex h-16 items-center justify-between pr-12">
      <div class="flex-1 md:flex md:items-center md:gap-12">
        <a class='font-bold text-2xl' href='/'>
          <img class='inline-block align-text-top' src='/img/logo.webp' width='48px' height='48px'>
          <div class='inline-block ml-2'>
            <span>sample.xlogin.jp</span>
            <br />
            <span class='text-sm'>simple login client sample</span>
          </div>
        </a>
      </div>

      <div class="md:flex md:items-center md:gap-12">
        <nav aria-label="Global" class="hidden md:block">
          <ul class="flex items-center gap-6 text-sm">
            <li class='xl:m-0 mr-3 mt-2 w-full border-b-2 border-white'><a data-id='notificationBtn' class='inline-block py-2 px-4 font-bold no-underline' href='#'>Notification</a></li>
            <li class='xl:m-0 mr-3 mt-2 w-full border-b-2 border-white'><a class='inline-block py-2 px-4 font-bold no-underline' href='https://github.com/autoaim-jp/xlogin-jp-client-sample' target='_blank'>GitHub</a></li>
          </ul>
        </nav>

        <div class="flex items-center gap-4">
          <div class="sm:flex sm:gap-4">
            <a
              class="rounded-md bg-teal-600 px-5 py-2.5 text-sm font-medium text-white shadow"
              href="/"
              >
              Login
            </a>

              <div class="hidden sm:flex">
                <a
                  class="rounded-md bg-gray-100 px-5 py-2.5 text-sm font-medium text-teal-600"
                  href="/"
                  >
                  Register
                </a>
              </div>
          </div>

          <div class="block md:hidden">
            <button class="rounded bg-gray-100 p-2 text-gray-600 transition hover:text-gray-600/75">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                stroke-width="2"
                >
                <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

    <!-- https://tailwindcomponents.com/component/simple-notification -->
<div id='notificationContainer' class='z-50 mt-20 p-4 absolute right-0 top-0 flex-col'>
</div>
<a id='notificationTemplate' data-id='notification' class='flex flex-col block bg-white max-w-md rounded-lg p-6 shadow mb-4 w-80 hidden' href='#'>
  <p data-id='subject' class='text-xl text-slate-700 font-medium'>Login at 2022/01/01 00:00:00</p>
  <div class='flex justify-end'>
    <div class='text-sm inline-flex space-x-1 items-center'>
      <span>show detail</span>
      <svg class='w-3 h-3' fill='none' stroke='currentColor' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M17 8l4 4m0 0l-4 4m4-4H3'></path></svg>
    </div>
  </div>
</a>


    <div class='section1 min-h-80 flex flex-col text-black md:flex items-center justify-center flex-grow p-2'>
  <div class='max-w-lg bg-gray-100 p-6 rounded shadow-xl max-w-4xl w-full'>
    <ul class='inline-flex space-x-1 md:space-x-3'>
      
        <li class='inline-flex items-center'>
          
          <a href='/' class='inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white'> 
            
              <svg class='w-4 h-4 mr-2' fill='currentColor' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'><path d='M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z'></path></svg>
            
            ホーム
          </a>
        </li>
      
        <li class='inline-flex items-center'>
          
          <a href='/mypage' class='inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white'> 
            
              <svg class='w-6 h-6 text-gray-400' fill='currentColor' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z' clip-rule='evenodd'></path></svg>
            
            マイページ
          </a>
        </li>
      
    </ul>
  </div>
</div>


    <div class='section1 min-h-80 flex flex-col text-left text-black md:flex items-center justify-center flex-grow p-16'>
      <div class='font-bold text-3xl max-w-lg bg-gray-100 p-6 rounded shadow-xl max-w-4xl w-full'>
        <h2 class='text-center mb-2'>MY PAGE</h2>
        <!-- MIT License https://tailwind-elements.com/docs/standard/components/cards/ -->
<div class='flex justify-center'>
  <div class='flex flex-col md:flex-row md:max-w-xl rounded-lg bg-white shadow-lg items-center'>
    <img class='m-4 w-36 h-36 md:mt-0 md:h-auto object-cover md:w-48 rounded-lg' src='/img/profile.png' alt='profile img' />
    <div class='p-6 flex flex-col justify-start break-all'>
      <h5 class='text-gray-900 text-xl font-medium mb-2 text-center'>Profile</h5>
      <p class='text-gray-700 text-base mb-4'>ユーザー名: <span data-var='auth:userName'>取得できません</span></p>
      <p class='text-gray-700 text-base mb-4'>メールアドレス: <span data-var='auth:emailAddress'>取得できません</span></p>
      <p class='text-gray-600 text-xs'>サービスユーザーID(sample_localhost): <span data-var='sample_localhost:serviceUserId'>取得できません</span></p>
      <p class='text-gray-600 text-xs'>サービスユーザーID(sample_xlogin_jp): <span data-var='sample_xlogin_jp:serviceUserId'>取得できません</span></p>
    </div>
  </div>
</div>


      </div>
    </div><!-- section1 -->
        <div class='flex h-screen w-16 flex-col justify-between border-e bg-white fixed right-0'>
      <div>
        <div class='inline-flex h-16 w-16 items-center justify-center'>
          <span
            class='grid h-10 w-10 place-content-center rounded-lg bg-gray-100 text-xs text-gray-600'
            >
            L
          </span>
        </div>

        <div class='border-t border-gray-100'>
          <div class='px-2'>
            <div class='py-4'>
              <a
                href='#'
                class='t group relative flex justify-center rounded bg-blue-50 px-2 py-1.5 text-blue-700'
                x-on:click.prevent="alert('Hello World!')"
                >
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <rect x="0" fill="none" width="24" height="24"></rect> <g> <path d="M21 14v5c0 1.105-.895 2-2 2H5c-1.105 0-2-.895-2-2V5c0-1.105.895-2 2-2h5v2H5v14h14v-5h2z"></path> <path d="M21 7h-4V3h-2v4h-4v2h4v4h2V9h4"></path> </g> </g></svg>

                  <span
                    class='absolute start-full top-1/2 ms-4 -translate-y-1/2 rounded bg-gray-900 px-2 py-1.5 text-xs font-medium text-white invisible group-hover:visible'
                    >
                    Add
                  </span>
              </a>
            </div>

            <ul class='space-y-1 border-t border-gray-100 py-4'>
              <li>
                <a
                  href=''
                  class='group relative flex justify-center rounded px-2 py-1.5 text-gray-500 hover:bg-gray-50 hover:text-gray-700'
                  >
<svg viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M768 903.232l-50.432 56.768L256 512l461.568-448 50.432 56.768L364.928 512z" fill="#000000"></path></g></svg>
                  <span
                      class='absolute start-full top-1/2 ms-4 -translate-y-1/2 rounded bg-gray-900 px-2 py-1.5 text-xs font-medium text-white invisible group-hover:visible'
                      >
                      Left
                    </span>
                </a>
              </li>

              <li>
                <a
                  href=''
                  class='group relative flex justify-center rounded px-2 py-1.5 text-gray-500 hover:bg-gray-50 hover:text-gray-700'
                  >
<svg viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M256 120.768L306.432 64 768 512l-461.568 448L256 903.232 659.072 512z" fill="#000000"></path></g></svg>
                  <span
                      class='absolute start-full top-1/2 ms-4 -translate-y-1/2 rounded bg-gray-900 px-2 py-1.5 text-xs font-medium text-white invisible group-hover:visible'
                      >
                      Right
                    </span>
                </a>
              </li>

              <li>
                <a
                  href=''
                  class='group relative flex justify-center rounded px-2 py-1.5 text-gray-500 hover:bg-gray-50 hover:text-gray-700'
                  >
<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M20 14V7C20 5.34315 18.6569 4 17 4H12M20 14L13.5 20M20 14H15.5C14.3954 14 13.5 14.8954 13.5 16V20M13.5 20H7C5.34315 20 4 18.6569 4 17V12" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M4 4L6.5 6.5M9 9L6.5 6.5M6.5 6.5L9 4M6.5 6.5L4 9" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
                  <span
                      class='absolute start-full top-1/2 ms-4 -translate-y-1/2 rounded bg-gray-900 px-2 py-1.5 text-xs font-medium text-white invisible group-hover:visible'
                      >
                      Delete
                    </span>
                </a>
              </li>

            </ul>

            <div class='py-4'>
              <a
                href=''
                class='t group relative flex justify-center rounded bg-blue-50 px-2 py-1.5 text-blue-700'
                >
                  <svg viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M448 768A320 320 0 1 0 448 128a320 320 0 0 0 0 640z m297.344-76.992l214.592 214.592-54.336 54.336-214.592-214.592a384 384 0 1 1 54.336-54.336z" fill="#000000"></path></g></svg>

                  <span
                    class='absolute start-full top-1/2 ms-4 -translate-y-1/2 rounded bg-gray-900 px-2 py-1.5 text-xs font-medium text-white invisible group-hover:visible'
                    >
                    Search
                  </span>
              </a>
            </div>


          </div>
        </div>
      </div>

      <div class='sticky inset-x-0 bottom-0 border-t border-gray-100 bg-white p-2'>
        <form action='/logout'>
          <button
            type='submit'
            class='group relative flex w-full justify-center rounded-lg px-2 py-1.5 text-sm text-gray-500 hover:bg-gray-50 hover:text-gray-700'
            >
            <svg
              xmlns='http://www.w3.org/2000/svg'
              class='h-5 w-5 opacity-75'
              fill='none'
              viewBox='0 0 24 24'
              stroke='currentColor'
              stroke-width='2'
              >
              <path
                stroke-linecap='round'
                stroke-linejoin='round'
                d='M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1'
                />
            </svg>

              <span
                class='absolute start-full top-1/2 ms-4 -translate-y-1/2 rounded bg-gray-900 px-2 py-1.5 text-xs font-medium text-white invisible group-hover:visible'
                >
                Logout
              </span>
          </button>
        </form>
      </div>
    </div>



    <div x-data="cardListData()"
     x-init="loadMemoList()"
     >
     <template x-for="(memoObj, index) in $store.memo.memoList">
       <div class='border'>
         <p>
         <span x-text="index + ': '"></span>
         <span x-text="memoObj.title"></span>
         </p>
         <template x-for="(line, index2) in memoObj.content.split('\n')">
           <p x-text="line"></p>
         </template>
         <button @click="showModal(index)">編集</button>
       </div>
     </template>
</div>

    
    <div x-data="modalData()" 
     class='absolute'>
<div x-show="$store.modal.isModalActive" id='modalBackground' data-id='modalClose' class='fixed bg-white bg-opacity-50 w-full h-full z-40 inset-0'></div>
<div x-show="$store.modal.isModalActive" id='modalTemplate' data-id='modal' class='transition-opacity duration-500 fixed w-11/12 lg:w-5/12 h-full left-0 right-0 m-auto flex font-extrabold z-50'>
  <section class='relative m-auto w-4/5 shadow-lg rounded-3xl shadow-2xl bg-white'>
    <div class='p-8 text-left sm:p-12 flex flex-col'>
         <label
           for='modalTitleInput'
           class='relative block rounded-md border border-gray-200 shadow-sm focus-within:border-blue-600 focus-within:ring-1 focus-within:ring-blue-600'
           >
           <input
             type='text'
             id='modalTitleInput'
             class='peer border-none bg-transparent placeholder-transparent focus:border-transparent focus:outline-none focus:ring-0 p-4'
             placeholder='title'
             x-model='$store.modal.title'
             x-on:keyup.debounce.750ms='keyupAction($event)'
             x-on:focus="keepModal($event)"
             x-on:blur="closeModal($event)"
             />

           <span
             class='pointer-events-none absolute start-2.5 top-0 -translate-y-1/2 bg-white p-0.5 text-xs text-gray-700 transition-all peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-sm peer-focus:top-0 peer-focus:text-xs'
             >
             title
           </span>
         </label>
           <textarea
             class='w-full rounded-lg border border-gray-200 p-3 text-sm'
             placeholder='content'
             rows='8'
             id='modalContentInput'
             x-model='$store.modal.content'
             x-on:keyup.debounce.750ms='keyupAction($event)'
             x-on:focus="keepModal($event)"
             x-on:blur="closeModal($event)"
             x-ref="memoContentInput"
             ></textarea>
    </div>
  </section>
</div>
</div>
<script type="text/javascript">

  document.addEventListener('alpine:init', () => {
      const customShowModal = async (title, content) => {
          Alpine.store('modal').title = title
          Alpine.store('modal').content = content
          await showModal()
          document.querySelector('#modalContentInput').focus()
        }
      const customAction = () => {
          Alpine.store('memo').saveMemoList()
        }

      const showModal = async () => {
          Alpine.store('modal').isModalActive = true
          await Alpine.nextTick()
        }
      Alpine.store('modal', {
          isModalActive: false,
          showModal,

          title: '',
          content: '', 
          customShowModal,
        }) 

      Alpine.data('modalData', () => {
          return {
              isKeep: false,
              keyupActionTimer: null,
              keyupAction(event) {
                  clearTimeout(this.keyupActionTimer)
                  this.keyupActionTimer = setTimeout(() => {
                      this.customAction()
                    }, 750)
                },
              closeModal(event) {
                  console.log('closeModal start')
                  this.isKeep = false
                  setTimeout(function () {
                      if (this.isKeep) {
                          console.log('do nothing')
                        } else {
                            console.log('modal closed')
                            Alpine.store('modal').isModalActive = false
                            this.keyupAction()
                          }
                    }.bind(this), 100)
                },
              keepModal(event) {
                  console.log('keep')
                  this.isKeep = true
                },

              customAction,

            }
        })
    })
</script>

    <ul id='tabMenuContainerTemplate' class='hidden flex flex-wrap -mb-px flex-row justify-center'>
</ul>

<li id='tabItemTemplate' class='hidden mr-2'><a href='#' class='inline-block p-4 rounded-t-lg border-b-2 border-transparent hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300'></a></li>
<li id='tabActiveItemTemplate' class='hidden mr-2'><a href='#' class='inline-block p-4 text-blue-600 rounded-t-lg border-b-2 border-blue-600 active dark:text-blue-500 dark:border-blue-500'></a></li>


    <img id='loading' class='fixed -translate-x-1/2 -translate-y-1/2 inset-1/2 transform hidden' src='/img/loading.svg' />


    <div id='modalBackground' data-id='modalClose' class='fixed bg-white bg-opacity-50 w-full h-full z-40 inset-0 hidden'></div>
<div id='modalTemplate' data-id='modal' class='transition-opacity duration-500 fixed w-11/12 lg:w-5/12 h-full left-0 right-0 m-auto flex font-extrabold z-50 hidden'>
  <div data-id='modalCard' class='card relative m-auto w-4/5 shadow-lg rounded-2xl'>
    <div class='p-4 bg-gray-200 text-black rounded-t-2xl'>
      <span data-id='modalClose' class='float-right text-lg font-bold hover:text-gray-500 no-underline cursor-pointer'>&times;</span>
      <h2 data-id='modalTitle'>Modal Title</h2>
    </div>
    <div data-id='modalContent' class='p-8 bg-gray-100'>
    </div>
    <div class='p-2 text-white bg-gray-200 flex justify-end rounded-b-2xl'>
      <button data-id='modalCancelButton' class='bg-gray-800 hover:underline font-extrabold rounded py-4 px-8 shadow'>
        キャンセル
      </button>
      <button data-id='modalConfirmButton' class='bg-green-400 hover:underline font-extrabold rounded py-4 px-8 ml-2 shadow'>
        確認
      </button>
    </div>
  </div>
</div>


    <div id='hiddenForTailwindByJs' class='hidden w-full h-96 p-1'></div>
  </body>
      
      
      <script type='module' src='/js/mypage/app.js'></script> 
    
      
      <script type='module' src='https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js'></script> 
    

    





